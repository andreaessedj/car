<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Attivazione VIP</title>
  <style>
    body{background:#0f0f0f;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto;display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0}
    .card{background:#111;padding:24px;border-radius:16px;text-align:center;max-width:480px}
    .btn{display:inline-block;margin-top:12px;padding:10px 16px;border-radius:10px;font-weight:700;border:2px solid #000;background:#ffdd00;color:#000;text-decoration:none}
    .muted{opacity:.75;font-size:12px;margin-top:8px}
  </style>
  <!-- Evita di mettere cache di questa pagina -->
  <meta http-equiv="Cache-Control" content="no-store" />
</head>
<body>
  <div class="card">
    <h1 style="margin:0 0 8px;">Attivazione VIP</h1>
    <p id="msg">Pagamento ricevuto. Sto attivando il tuo profilo…</p>
    <a id="backBtn" class="btn" href="/">Torna all’app</a>
    <div class="muted">Se non vieni reindirizzato automaticamente, clicca il bottone.</div>
  </div>

  <script>
    (function () {
      // Segnala all'app che sei appena tornato dalla conferma (opzionale per un toast)
      try { sessionStorage.setItem('vip_just_activated', '1'); } catch(e) {}

      // Forza un "fresh load" della SPA con un query param random per bypassare cache
      var target = '/?r=' + Date.now();

      // Usa replace per non “sporcare” la cronologia col passo intermedio
      setTimeout(function () {
        window.location.replace(target);
      }, 600);

      // Fallback sul bottone (se l’auto-redirect fosse bloccato)
      var btn = document.getElementById('backBtn');
      if (btn) btn.href = target;
    })();
  </script>
</body>
</html>
